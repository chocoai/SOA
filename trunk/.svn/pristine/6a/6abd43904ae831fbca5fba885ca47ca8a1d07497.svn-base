<?xml version="1.0" encoding="UTF-8" ?>
<EntityQuery uid="DE851B3A-ACD5-484B-B166-312B7CFFEA65.4925E9AC6CA8" name="标准账户类型查询" label="标准账户类型查询" note="" share="false" multiselect="false" editable="false" autopaging="true" pagingMode="NormalPaging" virtualizingPagingEnabled="false" nodeID="514" action_column="true">
  <queryEntities>
    <Entity uid="DE851B3A-ACD5-484B-B166-312B7CFFEA65.62156FFA93F3" name="AMS_AccountType" label="账户集" alias="a0" selectAll="true" isBranch="true" master="true" />
  </queryEntities>
  <DataGrid>
    <color />
    <column name="application" label="应用" uid="DE851B3A-ACD5-484B-B166-312B7CFFEA65.62156FFA93F3.id_25" width="100" isBranch="false" />
    <column name="codeNo" label="编号" uid="DE851B3A-ACD5-484B-B166-312B7CFFEA65.62156FFA93F3.id_3" width="105" isBranch="false" editable="" sortable="" textAlign="" dataField="AMS_AccountType$codeNo" />
    <column name="name" label="名称" uid="DE851B3A-ACD5-484B-B166-312B7CFFEA65.62156FFA93F3.id_7" width="159" isBranch="false" editable="" sortable="" textAlign="" dataField="AMS_AccountType$name" />
    <column name="valid_type" label="有效期类型" uid="DE851B3A-ACD5-484B-B166-312B7CFFEA65.62156FFA93F3.id_4" width="115" isBranch="false" editable="" sortable="" textAlign="" dataField="AMS_AccountType$valid_type" />
    <column name="account_prop" label="账户属性" uid="DE851B3A-ACD5-484B-B166-312B7CFFEA65.62156FFA93F3.id_17" width="139" isBranch="false" dataField="AMS_AccountType$account_prop" />
    <column name="$action_column$" label="操作" uid="ccfa15fa-459b-471a-915f-fe613e3613cf" width="100" isBranch="false" actions="[{   &quot;hyperlink&quot;: &quot;toolbutton:风控参数&quot;,   &quot;name&quot;: &quot;风控参数&quot; }]" />
  </DataGrid>
  <editState />
  <toolbar>
    <button label="新建" action="alink" selection="none" permission="" permissionName="" visiable="true" param="{   &quot;target&quot;: &quot;ime.AppWindow&quot;,   &quot;form&quot;: &quot;EntityForm&quot;,   &quot;openMode&quot;: {},   &quot;param&quot;: {     &quot;action&quot;: &quot;create&quot;,     &quot;entityUID&quot;: &quot;DE851B3A-ACD5-484B-B166-312B7CFFEA65.62156FFA93F3&quot;,     &quot;formUID&quot;: &quot;DE851B3A-ACD5-484B-B166-312B7CFFEA65.08C4EDCDF8B7&quot;,     &quot;formState&quot;: &quot;state1&quot;,     &quot;title&quot;: &quot;新增账户类型&quot;   } }" Button="System.Windows.Controls.Button: 新建" alink="alink://ime.AppWindow/EntityForm?{action:&quot;create&quot;,entityUID:&quot;DE851B3A-ACD5-484B-B166-312B7CFFEA65.62156FFA93F3&quot;,formUID:&quot;DE851B3A-ACD5-484B-B166-312B7CFFEA65.08C4EDCDF8B7&quot;,formState:&quot;state1&quot;,title:&quot;新增账户类型&quot;}" />
    <button label="编辑" action="alink" selection="single" permission="" permissionName="" visiable="true" param="{   &quot;target&quot;: &quot;ime.AppWindow&quot;,   &quot;form&quot;: &quot;EntityForm&quot;,   &quot;param&quot;: {     &quot;action&quot;: &quot;edit&quot;,     &quot;entityUID&quot;: &quot;DE851B3A-ACD5-484B-B166-312B7CFFEA65.62156FFA93F3&quot;,     &quot;formUID&quot;: &quot;DE851B3A-ACD5-484B-B166-312B7CFFEA65.08C4EDCDF8B7&quot;,     &quot;formState&quot;: &quot;state2&quot;,     &quot;title&quot;: &quot;更改账户类型&quot;   } }" Button="System.Windows.Controls.Button: 编辑" alink="alink://ime.AppWindow/EntityForm?{action:&quot;edit&quot;,entityUID:&quot;DE851B3A-ACD5-484B-B166-312B7CFFEA65.62156FFA93F3&quot;,formUID:&quot;DE851B3A-ACD5-484B-B166-312B7CFFEA65.08C4EDCDF8B7&quot;,formState:&quot;state2&quot;,title:&quot;更改账户类型&quot;}" />
    <button label="删除" action="delete" selection="single" permission="" permissionName="" visiable="true" Button="System.Windows.Controls.Button: 删除" />
    <button label="风控参数" action="fireEvent" selection="single" permission="" permissionName="" visiable="true" param="{   &quot;event&quot;: &quot;onRiskSetting&quot;,   &quot;confirmMessage&quot;: &quot;&quot; }" Button="System.Windows.Controls.Button: 风控参数" event="onRiskSetting" confirmMessage="" />
  </toolbar>
  <xmlQuery version="2.0" name="" label="">
    <select domainScope="true">
      <other label="其他" uid="other" name="other" />
      <Entity uid="DE851B3A-ACD5-484B-B166-312B7CFFEA65.62156FFA93F3" name="AMS_AccountType" label="账户集" alias="a0" selectAll="true" isBranch="true">
        <field uid="sys_0" name="id" label="编号" type="long" />
        <field uid="sys_1" name="domainId" label="域ID" type="long" />
        <field uid="id_3" name="codeNo" label="编号" type="string" />
        <field uid="id_4" name="valid_type" label="有效期类型" type="long" />
        <field uid="id_6" name="valid_merge" label="有效期合并" type="long" />
        <field uid="id_7" name="name" label="名称" type="string" />
        <field uid="id_14" name="biz_type" label="账户集类型" type="long" />
        <field uid="id_15" name="biz_def" label="业务数据定义" type="string" />
        <field uid="id_17" name="account_prop" label="账户属性" type="long" />
        <field uid="id_18" name="extend_day" label="默认延长时间(日)" type="long" />
        <field uid="id_19" name="rbm_rate" label="人民币比例" type="double" />
        <field uid="id_25" name="application" label="应用" type="relation" />
        <field uid="id_26" name="description" label="描述" type="string" />
        <field uid="id_27" name="member" label="企业会员" type="relation" />
        <field uid="id_28" name="account_kind" label="账户类型" type="long" />
        <field uid="id_29" name="applicationNo" label="应用编号" type="string" />
        <field uid="id_30" name="unit" label="单位" type="string" />
      </Entity>
    </select>
    <where>
      <exp type="2">
        <exp type="19" valueType="1" option="true" rightType="param" right="codeNo" leftEntity="AMS_AccountType" leftField="codeNo" uid="exp0" />
        <exp type="19" valueType="1" option="true" rightType="param" right="name" leftEntity="AMS_AccountType" leftField="name" uid="exp1" />
        <exp type="5" valueType="3" option="true" rightType="val" right="1" leftEntity="AMS_AccountType" leftField="account_prop" uid="exp2" />
      </exp>
    </where>
    <other>
      <groupBy label="Group By" />
      <orderBy label="Order By" />
    </other>
  </xmlQuery>
  <conditionForm>
    <Window paddingLeft="2" paddingRight="2" paddingTop="2" paddingBottom="2">
      <TabNavigator>
        <tab label="default">
          <Label width="59" height="25" text="名称:" propertyUID="id_7" x="3" y="3" style="" />
          <TextInput name="name" width="139" height="25" x="63" y="3" />
          <Label width="82" height="25" text="编号:" propertyUID="id_3" x="223" y="3" style="" />
          <TextInput name="codeNo" width="139" height="25" x="283" y="3" />
        </tab>
      </TabNavigator>
    </Window>
  </conditionForm>
  <StatSetting />
  <queryEvent>
    <event name="onRiskSetting" type="customerEvent" label="onRiskSetting"><![CDATA[var entity/*:$Entity.AMS_AccountType*/ = query.getSelectedEntity();

var html = [
	'<form id="account_risk_set" action="../../pages/ams/set_risk.jsp" method="post" target="_blank">',
		'<input type="hidden" name="accountType" value="', entity.codeNo, '" />',
	'</form>'
].join("");

$("body").append(html);
$("#account_risk_set").submit().remove();]]></event>
  </queryEvent>
</EntityQuery>